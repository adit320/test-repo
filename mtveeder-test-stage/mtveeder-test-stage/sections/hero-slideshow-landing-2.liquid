{% comment %}
  This is a generated file. Please edit and copy the original file (sections/hero-slideshow.liquid) to maintain consistency 
  between different page versions of this section
{% endcomment %}
{%- if block.settings.hero_layout == 'full_width' and section.settings.hero_size == 'adapt' -%}
  {%- if block.settings.image.aspect_ratio == blank -%}
    {%- assign min_aspect_ratio = 2.0 -%}
  {%- else -%}
    {%- assign min_aspect_ratio = block.settings.image.aspect_ratio -%}
  {%- endif -%}
  {%- assign wrapper_height = 100 | divided_by: min_aspect_ratio -%}
  {%- style -%}
    .hero-{{ block.id }} {
      height: {{- wrapper_height -}}vw !important;
    }
  {%- endstyle -%}
{%- endif -%}

{% if section.blocks.size > 0 %}
<div data-block-id="{{ block.id }}" data-block-type="hero-section">
  <div class="fade-container relative" data-autoplay="{{section.settings.enable_autoplay}}" data-duration="{{section.settings.duration}}" data-slide-count="{{section.blocks.size}}">
    <div class="swiper-wrapper">
        {% for block in section.blocks %}
            <div class="swiper-slide">
         {%- if block.settings.hero_layout == 'fixed_width' -%}
            <div class="container-7xl slider-transition">
         {%- endif -%}
         {%- if block.settings.hero_layout == 'fixed_width' and section.settings.hero_size ==  'adapt' -%}
         {%- assign slide_width = 1090 -%}
         {%- assign min_aspect_ratio = block.settings.image.aspect_ratio | default: 2.0 -%}
         <div class="hero-fixed-width {% if section.settings.display_color_overlay != blank %} hero-fixed-width-overlay {% endif %} hero--adapt"
             id="Hero-{{ block.id }}"
             data-layout="{{ block.settings.hero_layout }}"
             data-image-loading-animation>
             {%- assign img_url = block.settings.image | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
             {%- if block.settings.image.width < max_width -%}
                {%- assign slide_width = block.settings.image.width -%}
             {%- endif -%}
             <div class="hero-fixed-width__content">
                <div class="container-7xl text-center slider-transition">
             {%- if block.settings.title != blank -%}
                <h1 class="text-4xl font-medium mb-3{% if block.settings.text_size == 'large' %} text-6xl{% endif %}" style="color: {{section.settings.text_color}};">{{ block.settings.title | escape }}</h1>
             {%- endif -%}
             {%- if block.settings.text != blank -%}
                <div class="text-lg{% if block.settings.text_size == 'large' %} text-xl{% endif %}" style="color: {{section.settings.text_color}};">{{ block.settings.text }}</div>
             {%- endif -%}
             {%- if block.settings.button_label != blank and block.settings.button_link != blank -%}
                <a href="{{ block.settings.button_link }}" class="btn">
                    {{ block.settings.button_label | escape }}
                </a>
             {%- endif -%}
             </div>
             </div>
             {%- if block.settings.image != blank -%}
             <img class="hero-fixed-width__image lazyload lazypreload"
                 data-src="{{ img_url }}"
                 data-widths="[180, 360, 470, 600, 770, 970, 1060, 1280, 1512, 1728, 2048]"
                 data-aspectratio="{{ block.settings.image.aspect_ratio }}"
                 data-sizes="auto"
                 style="{%- if slide_width <= max_width -%}
                            {%- assign min_width = slide_width | times: 100 | divided_by: max_width -%}
                            min-width: {{ min_width }}%;
                            {%- endif -%}
                            object-position: {{ block.settings.alignment }};"
                 alt="{{ block.settings.image.alt | escape }}"
             >
             {%- else -%}
             <span>
                {% capture current %}{% cycle 1, 2 %}{% endcapture %}
                {{ 'lifestyle-' | append: current | placeholder_svg_tag: 'placeholder-svg' }}
             </span>
             {%- endif -%}
             <noscript>
             <div class="hero-fixed-width__image"{% if block.settings.image %}{% unless block.settings.image.alt == blank %} role="img" aria-label="{{ block.settings.image.alt | escape }}"{% endunless %} style="background-image: url('{{ block.settings.image | img_url: '2048x' }}'); background-position: center {{ block.settings.alignment }};"{% endif %}></div>
             </noscript>
         </div>
         {%- else -%}
         <div class="hero hero--{{ section.settings.hero_size }} hero-{{ block.id }}{% if block.settings.title != blank or block.settings.text != blank or block.settings.button_label != blank %} {% if block.settings.display_color_overlay %} hero__overlay {% endif %} {% endif %} box ratio-container lazyload js"
             id="Hero-{{ block.id }}"
             data-layout="{{ block.settings.hero_layout }}"
             {%- if block.settings.image -%}
             {% unless block.settings.image.alt == blank %}
             role="img"
             aria-label="{{ block.settings.image.alt | escape }}"
             data-alt="{{ block.settings.image.alt | escape }}"
             {% endunless %}
             data-bg="{{ block.settings.image | img_url: '300x300' }}"
             data-bgset="{% include 'bgset', image: block.settings.image %}"
             data-sizes="auto"
             data-parent-fit="cover"
             style="background-position: {{ block.settings.alignment }};"
             data-image-loading-animation
         {%- endif -%}>
         {%- if block.settings.image == blank -%}
         <div class="placeholder-background">
            {{ 'lifestyle-1' | placeholder_svg_tag: 'placeholder-svg' }}
         </div>
         {%- endif -%}
            <div class="hero__inner">
            <div class="container-3xl text-center slider-transition">
         {%- if block.settings.title != blank -%}
            <h1 class="text-4xl font-medium mb-3{% if block.settings.text_size == 'large' %} text-6xl{% endif %}" style="color: {{section.settings.text_color}};">{{ block.settings.title | escape }}</h2>
         {%- endif -%}
         {%- if block.settings.text != blank -%}
            <div class="text-lg mb-3{% if block.settings.text_size == 'large' %} text-xl{% endif %}" style="color: {{section.settings.text_color}};">{{ block.settings.text }}</div>
         {%- endif -%}
         {%- if block.settings.button_label != blank and block.settings.button_link != blank -%}
         <!-- TODO: Style button and use a styleguide approved button -->
         {%- capture ariaLabel -%}
         {{- block.settings.button_label -}}
         {%- if block.settings.button_link.type == 'frontpage_link' -%}
            : {{ 'homepage.general.title' | t -}}
         {%- elsif block.settings.button_link.type == 'catalog_link' -%}
            : {{ 'collections.catalog.title' | t -}}
         {%- elsif block.settings.button_link.object.title -%}
            : {{ block.settings.button_link.object.title -}}
         {%- endif -%}
         {%- endcapture -%}

         <a href="{{ block.settings.button_link }}"
             class="btn {% comment %} hero__btn {% endcomment%} button-default"
             aria-label="{{ ariaLabel }}"
                style="{% if section.settings.button_text_bg !="rgba(0,0,0,0)" %}background-color: {{section.settings.button_text_bg}};{% endif %} {% if section.settings.button_text_color !="rgba(0,0,0,0)" %}color: {{section.settings.button_text_color}}{% endif %}"
         >
            {{- block.settings.button_label | escape -}}
         </a>
         {%- endif -%}
         </div>
         </div>
         </div>
         <noscript>
         <div class="hero hero--{{ section.settings.hero_size }}{% if block.settings.title != blank or block.settings.text != blank or block.settings.button_label != blank %} {% if block.settings.display_color_overlay %} hero__overlay {% endif %}{% endif %}"{% if block.settings.image %}{% unless block.settings.image.alt == blank %} role="img" aria-label="{{ block.settings.image.alt | escape }}"{% endunless %} style="background-image: url('{{ block.settings.image | img_url: '2048x' }}'); background-position: center {{ block.settings.alignment }};"{% endif %}></div>
         </noscript>
         {%- endif -%}
         {%- if block.settings.hero_layout == 'fixed_width' -%}
         </div>
         {%- endif -%}
      </div>
        {% endfor %}
    </div>
      {% if section.blocks.size > 1 %}
        <div class="swiper-pagination"></div>
      {% endif %}
  </div>
</div>
{% endif %}

<style>
    .fade-container .swiper-slide-active .slider-transition {
        -webkit-animation: fadein 1.2s; /* Safari, Chrome and Opera > 12.1 */
        -moz-animation: fadein 1.2s; /* Firefox < 16 */
        -ms-animation: fadein 1.2s; /* Internet Explorer */
        -o-animation: fadein 1.2s; /* Opera < 12.1 */
        animation: fadein 1.2s;
    }

    .fade-container .swiper-pagination-bullets {
        bottom: 50px;
    }

    .fade-container .swiper-pagination-bullet {
        width: 12px;
        height: 12px;
    }

    .fade-container .swiper-pagination-bullet:not(.swiper-pagination-bullet-active) {
        background-color: white;
        opacity: 0.8;
    }

    @keyframes fadein {
        from { opacity: 0; transform: translateY(200%); }
        to   { opacity: 1; transform: translateY(0); }
    }

    /* Safari, Chrome and Opera > 12.1 */
    @-webkit-keyframes fadein {
        from { opacity: 0; transform: translateY(200%); }
        to   { opacity: 1; transform: translateY(0); }
    }

    /* Internet Explorer */
    @-ms-keyframes fadein {
        from { opacity: 0; transform: translateY(200%); }
        to   { opacity: 1; transform: translateY(0); }
    }
</style>

{% schema %}
{
  "name": "Hero Slideshow",
  "class": "navbar shadow-lg",
  "settings": [
    {
        "type": "checkbox",
        "id": "enable_autoplay",
        "label": "Enable autoplay",
        "default": true
    },
    {
      "type": "range",
      "id": "duration",
      "label": "Autoplay duration",
      "min": 3,
      "max": 8,
      "step": 1,
      "default": 6,
      "unit": "sec"
    },
    {
        "type": "select",
        "id": "hero_size",
        "label": "Height",
        "default": "medium",
        "options": [
        {
          "label": "Adapt to image",
          "value": "adapt"
        },
        {
          "label": "Extra Small",
          "value": "x-small"
        },
        {
          "label": "Small",
          "value": "small"
        },
        {
          "label": "Medium",
          "value": "medium"
        },
        {
          "label": "Large",
          "value": "large"
        },
        {
          "label": "Extra Large",
          "value": "x-large"
        }
        ]
      },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#fff"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button text color",
      "default": "rgba(0,0,0,0)"
    },
    {
      "type": "color",
      "id": "button_text_bg",
      "label": "Button text background",
      "default": "rgba(0,0,0,0)"
    }
  ],
  "blocks": [
    {
        "type": "slide",
        "name": "Slide",
        "settings": [
    {
        "type": "header",
        "content": "Slide 1"
      },
      {
        "type": "image_picker",
        "id": "image",
        "label": "Image"
      },
      {
        "type": "select",
        "id": "alignment",
        "label": "Image alignment",
        "default": "center",
        "options": [
        {
          "value": "top",
          "label": "Top"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "bottom",
          "label": "Bottom"
        }
        ]
      },
      {
        "type": "select",
        "id": "hero_layout",
        "label": "Width",
        "default": "full_width",
        "options": [
        {
          "label": "Full width",
          "value": "full_width"
        },
        {
          "label": "Fixed width",
          "value": "fixed_width"
        }
        ]
      },
      {
        "type": "select",
        "id": "text_size",
        "label": "Text size",
        "default": "medium",
        "options": [
        {
          "label": "Medium",
          "value": "medium"
        },
        {
          "label": "Large",
          "value": "large"
        }
        ]
      },
      {
        "type": "text",
        "id": "title",
        "label": "Heading",
        "default": "Image with text overlay"
      },
      {
        "type": "richtext",
        "id": "text",
        "label": "Text",
        "default": "<p>Use overlay text to give your customers insight into your brand. Select imagery and text that relates to your style and story.</p>"
      },
      {
        "type": "checkbox",
        "id": "display_color_overlay",
        "label": "Show color overlay",
        "default": true
      },
      {
        "type": "text",
        "id": "button_label",
        "label": "Button label"
      },
      {
        "type": "url",
        "id": "button_link",
        "label": "Button link"
      }
        ]
    }
  ]
}
{% endschema %}